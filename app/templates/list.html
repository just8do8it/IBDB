{% extends 'base.html' %}

{% block title %}{{ book_list.name }} - Book List{% endblock %}

{% block content %}
<div class="container">
    <h2>{{ book_list.name }}</h2>
    <p>Created by: <strong>{{ book_list.user.email }}</strong></p>
    
    <!-- Privacy Badge -->
    {% if book_list.is_public %}
        <span class="badge bg-success">Public</span>
    {% else %}
        <span class="badge bg-secondary">Private</span>
    {% endif %}
    
    <hr>

    <!-- Show Books in the List -->
    <h3>Books in This List</h3>
    {% if book_list.books %}
        <ul class="list-group">
            {% for book in book_list.books %}
                <li class="list-group-item">
                    <a href="{{ url_for('book_page', book_id=book.id) }}">{{ book.title }}</a> by {{ book.author }}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No books in this list.</p>
    {% endif %}
    
    <hr>

    <!-- Edit & Delete Buttons (Only for List Owner) -->
    {% if book_list.user_id == current_user.id %}
        <a href="{{ url_for('edit_list', list_id=book_list.id) }}" class="btn btn-info">Edit</a>
        <form action="{{ url_for('delete_list', list_id=book_list.id) }}" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-danger">Delete</button>
        </form>
    {% endif %}

    <!-- Back Button -->
    <a href="{{ url_for('profile') }}" class="btn btn-secondary">Back to Profile</a>
</div>
{% endblock %}
